[#macro staffShowView]
<div class="model-form">
    <el-page-header @back="goBack" content="详情">
    </el-page-header>

    <el-menu :default-active="activeIndex" class="el-menu-demo" mode="horizontal" @select="handleSelect">
        <el-menu-item index="1">
            员工详情
        </el-menu-item>
        <el-menu-item index="7">
            账号管理
        </el-menu-item>
        <el-menu-item index="8">
            重置密码
        </el-menu-item>
    </el-menu>
    <div style="margin-top: 20px;">
        <router-view></router-view>
    </div>

</div>
[/#macro]
[#macro staffShowConfig]
<script type="text/x-template" id="my-staff-show">
    [@staffShowView /]
</script>
<script type="text/javascript">
    //显示组件开始
    var staffShowConfig = {};
    staffShowConfig.template = "#my-staff-show";
    staffShowConfig.methods = config.basicMethod();
    staffShowConfig.data = function () {
        return {
            viewModel: {
            },
            activeIndex: "1"
        }
    };

    staffShowConfig.methods.handleSelect = function (index) {
        console.log(index)
        var selectId = this.selectId;
        if (index == "1") {
            this.$router.replace({ path: '/view/index', query: { id: selectId, activeIndex: 1, time: Math.random() } })
        }
        else if (index == "2") {
            this.$router.replace({ path: '/view/members', query: { id: selectId, activeIndex: 2, time: Math.random() } })
        } else if (index == "7") {
            this.$router.replace({ path: '/account', query: { id: selectId, activeIndex: 7, time: Math.random() } })
        } else if (index == "8") {
            this.$router.replace({ path: '/restPassword', query: { id: selectId, activeIndex: 8, time: Math.random() } })
        } else {

        }
    };

    staffShowConfig.mounted = function () {
        var id = this.$route.query.id;
        var activeIndex = this.$route.query.activeIndex;

        var self = this;
        var data = {};
        data.id = id;
        this.selectId = data.id;
        if (activeIndex) {
            this.activeIndex = activeIndex;
        }
    }
    var staffShowView = Vue.component('my-staff-view', staffShowConfig);
		//显示组件结束
</script>
[/#macro]



[#macro childStaffView]
<div>
    <el-form class="viewForm" label-width="80px">
        <el-col :span="24">
            <el-form-item label="头像">
                <img :src="viewModel.avatar" alt="" style="height: 50px;width: 50px;">
            </el-form-item>
        </el-col>
        <el-col :span="24">
            <el-form-item label="姓名">
                <div v-html="viewModel.name">></div>
            </el-form-item>
        </el-col>
        <el-col :span="24">
            <el-form-item label="电话">
                <div v-html="viewModel.phone">></div>
            </el-form-item>
        </el-col>
        <el-col :span="24">
            <el-form-item label="个人介绍">
                <div v-html="viewModel.note">></div>
            </el-form-item>
        </el-col>
        <el-col :span="24">
            <el-form-item label="数据范围">
                <div v-html="viewModel.dataScopeName">></div>
            </el-form-item>
        </el-col>
        <el-col :span="24">
            <el-form-item label="所在部门">
                <div v-html="viewModel.structureName">></div>
            </el-form-item>
        </el-col>
    </el-form>
</div>
[/#macro]

[#macro childStaffConfig]
<script type="text/x-template" id="child-staff-show">
        [@childStaffView /]
    </script>
<script type="text/javascript">

    var childStaffShowConfig = {};
    childStaffShowConfig.template = "#child-staff-show";
    childStaffShowConfig.methods = config.basicMethod();
    childStaffShowConfig.data = function () {
        return {
            viewModel: {
            }
        }
    };
    childStaffShowConfig.mounted = function () {
        var id = this.$route.query.id;
        var self = this;
        var data = {};
        data.id = id;
        this.postData("${siteurl}tenantRest/employee/view.htm", data, function (res) {
            if (res.code == 0) {
                self.viewModel = res;

            }
        });
    }
    var childStaffShowView = Vue.component('child-staff-show', childStaffShowConfig);
</script>
[/#macro]